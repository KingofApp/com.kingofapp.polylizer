<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/google-map/google-map.html">

<dom-module id="module-googlemap">

  <template>

    <style include="shared-styles">
      :host {
        display: block;
        padding: 10px;
      }
      google-map {
        height: 600px;
      }
    </style>

      <template is="dom-if" if="[[api]]">

        <google-map zoom="15" api-key="[[api]]" latitude="[[latitude]]" longitude="[[longitude]]" >

          <google-map-marker latitude="[[latitude]]" longitude="[[longitude]]"></google-map-marker>

        </google-map>

      </template>

  </template>

  <script>
    Polymer({
      is: 'module-googlemap',

      properties: {
        scope: {
          type: String,
          reflectToAttribute: true,
          observer: '_scopeReceived'
        }
      },

      _scopeReceived: function(content) {
        content = JSON.parse(content);
        this.set('api', content.api);
        this.set('longitude', content.lon);
        this.set('latitude', content.lat);

      }

    });
  </script>
</dom-module>
